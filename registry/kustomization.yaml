apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

generatorOptions:
  disableNameSuffixHash: true

resources:
- credentials.yaml
- middleware.yaml
- manifests.yaml

# # Create a Sealed Secret
# k create secret generic credentials --namespace=registry \
# --from-file=users=registry.htpasswd \
# --dry-run=client --output yaml | kubeseal > credentials.yaml --format yaml

# docker login registry.yourdomain.com
# docker tag my-image registry.yourdomain.com/my-image
# docker push registry.yourdomain.com/my-image:v1

namespace: registry
